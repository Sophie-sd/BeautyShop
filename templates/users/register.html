{% extends "base.html" %}
{% load static %}

{% block title %}–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è - BeautyShop{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-wrapper">
        <div class="auth-card">
            <div class="auth-header">
                <h1>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</h1>
                <p class="auth-subtitle">–û—Ç—Ä–∏–º–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –æ–ø—Ç–æ–≤–∏—Ö —Ü—ñ–Ω</p>
            </div>

            <div class="wholesale-info-block">
                <div class="info-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z"></path>
                        <path d="M2 17L12 22L22 17"></path>
                        <path d="M2 12L12 17L22 12"></path>
                    </svg>
                </div>
                <h3>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –¢–Ü–õ–¨–ö–ò –¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –ø–æ–∫—É–ø—Ü—ñ–≤</h3>
                <p class="info-description">
                    –¶–µ–π –æ—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –≤–∏–∫–ª—é—á–Ω–æ –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤, —è–∫—ñ –ø–ª–∞–Ω—É—é—Ç—å –∑–∞–º–æ–≤–ª—è—Ç–∏ —Ç–æ–≤–∞—Ä–∏ –æ–ø—Ç–æ–º. 
                    –ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email –≤–∞–º –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø –¥–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –æ–ø—Ç–æ–≤–∏—Ö —Ü—ñ–Ω.
                </p>
            </div>

            <div class="auth-info">
                <h3>üéØ –©–æ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ:</h3>
                <ul class="benefits-list">
                    <li>‚úì –î–æ—Å—Ç—É–ø –¥–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –æ–ø—Ç–æ–≤–∏—Ö —Ü—ñ–Ω –Ω–∞ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏</li>
                    <li>‚úì –û—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é –∑–∞–º–æ–≤–ª–µ–Ω—å</li>
                    <li>‚úì –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –∑–Ω–∏–∂–∫–∏ —Ç–∞ –∞–∫—Ü—ñ—ó</li>
                    <li>‚úì –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å</li>
                </ul>
                <div class="note-box">
                    <strong>–í–∞–∂–ª–∏–≤–æ:</strong> –¶—ñ–Ω–∏ –≤—ñ–¥ 3 —à—Ç—É–∫ –¥–æ—Å—Ç—É–ø–Ω—ñ –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó. 
                    –û–ø—Ç–æ–≤—ñ —Ü—ñ–Ω–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É –≤ –æ—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç.
                </div>
            </div>

            <form method="post" class="auth-form" novalidate>
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                    <div class="alert alert-error">
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">–Ü–º'—è *</label>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="error-message">{{ form.first_name.errors.0 }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">–ü—Ä—ñ–∑–≤–∏—â–µ *</label>
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <div class="error-message">{{ form.last_name.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.date_of_birth.id_for_label }}">–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è *</label>
                    {{ form.date_of_birth }}
                    {% if form.date_of_birth.errors %}
                        <div class="error-message">{{ form.date_of_birth.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.phone.id_for_label }}">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    {{ form.phone }}
                    <small class="form-help">–§–æ—Ä–º–∞—Ç: +380991234567</small>
                    {% if form.phone.errors %}
                        <div class="error-message">{{ form.phone.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.email.id_for_label }}">Email *</label>
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error-message">{{ form.email.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.password1.id_for_label }}">–ü–∞—Ä–æ–ª—å *</label>
                    <div class="password-input-wrapper">
                        {{ form.password1 }}
                        <button type="button" class="password-toggle" data-target="id_password1" aria-label="–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å">
                            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <svg class="eye-off-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                <line x1="1" y1="1" x2="23" y2="23"></line>
                            </svg>
                        </button>
                    </div>
                    <small class="form-help">–ú—ñ–Ω—ñ–º—É–º 8 —Å–∏–º–≤–æ–ª—ñ–≤</small>
                    {% if form.password1.errors %}
                        <div class="error-message">{{ form.password1.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.password2.id_for_label }}">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é *</label>
                    <div class="password-input-wrapper">
                        {{ form.password2 }}
                        <button type="button" class="password-toggle" data-target="id_password2" aria-label="–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å">
                            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <svg class="eye-off-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                <line x1="1" y1="1" x2="23" y2="23"></line>
                            </svg>
                        </button>
                    </div>
                    {% if form.password2.errors %}
                        <div class="error-message">{{ form.password2.errors.0 }}</div>
                    {% endif %}
                </div>

                <button type="submit" class="btn btn-primary btn-full">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
            </form>

            <div class="auth-footer">
                <p>–í–∂–µ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ? <a href="{% url 'users:login' %}">–£–≤—ñ–π—Ç–∏</a></p>
            </div>
        </div>
    </div>
</div>

<style>
.password-input-wrapper {
    position: relative;
}

.password-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.3s ease;
}

.password-toggle:hover {
    color: #e91e63;
}

.password-input-wrapper input {
    padding-right: 45px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const passwordToggles = document.querySelectorAll('.password-toggle');
    
    passwordToggles.forEach(toggle => {
        toggle.addEventListener('click', function() {
            const targetId = this.getAttribute('data-target');
            const passwordInput = document.getElementById(targetId);
            const eyeIcon = this.querySelector('.eye-icon');
            const eyeOffIcon = this.querySelector('.eye-off-icon');
            
            if (passwordInput) {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                if (type === 'text') {
                    eyeIcon.style.display = 'none';
                    eyeOffIcon.style.display = 'block';
                    this.setAttribute('aria-label', '–ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—å');
                } else {
                    eyeIcon.style.display = 'block';
                    eyeOffIcon.style.display = 'none';
                    this.setAttribute('aria-label', '–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–∞—Ä–æ–ª—å');
                }
            }
        });
    });
});
</script>
{% endblock %}