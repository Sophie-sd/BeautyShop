{% extends 'base.html' %}
{% load static %}

{% block title %}Beauty Shop - –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∞ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏{% endblock %}
{% block description %}–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω Beauty Shop –ø—Ä–æ–ø–æ–Ω—É—î –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—É –∫–æ—Å–º–µ—Ç–∏–∫—É, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏. –Ø–∫—ñ—Å–Ω—ñ —Ç–æ–≤–∞—Ä–∏, —à–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ.{% endblock %}

{% block content %}
<!-- 1. Banner Slider Section -->
<section class="banner-slider-section" aria-label="–†–µ–∫–ª–∞–º–Ω—ñ –±–∞–Ω–µ—Ä–∏">
    <div class="banner-slider-container" id="bannerSlider">
        {% if banners %}
            <div class="banner-slider">
                {% for banner in banners %}
                    <div class="banner-slide {% if forloop.first %}active{% endif %}">
                        {% if banner.link_url %}
                            <a href="{{ banner.link_url }}" target="_blank" rel="noopener">
                                <picture>
                                    <source media="(max-width: 768px)" srcset="{{ banner.mobile_image.url }}">
                                    <img src="{{ banner.desktop_image.url }}" alt="{{ banner.alt_text }}" loading="lazy" class="banner-image">
                                </picture>
                            </a>
                        {% else %}
                            <picture>
                                <source media="(max-width: 768px)" srcset="{{ banner.mobile_image.url }}">
                                <img src="{{ banner.desktop_image.url }}" alt="{{ banner.alt_text }}" loading="lazy" class="banner-image">
                            </picture>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            
            {% if banners.count > 1 %}
                <!-- Navigation Arrows -->
                <button class="banner-nav banner-nav-prev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –±–∞–Ω–µ—Ä">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <button class="banner-nav banner-nav-next" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∏–π –±–∞–Ω–µ—Ä">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
                
                <!-- Navigation Dots -->
                <div class="banner-dots"></div>
            {% endif %}
        {% else %}
            <div class="banner-placeholder">
                <div class="placeholder-content">
                    <div class="placeholder-icon">üñºÔ∏è</div>
                    <h3>–ë–∞–Ω–µ—Ä —Å–ª–∞–π–¥–µ—Ä</h3>
                    <p class="placeholder-text">–î–µ—Å–∫—Ç–æ–ø: 1200√ó400px | –ú–æ–±—ñ–ª—å–Ω–∏–π: 375√ó280px</p>
                    <small>–î–æ–¥–∞–π—Ç–µ –±–∞–Ω–µ—Ä–∏ —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</small>
                </div>
            </div>
        {% endif %}
    </div>
</section>

<div class="marquee-container mobile-marquee" role="banner" aria-label="–ü—Ä–æ–º–æ-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è">
    <div class="marquee-content">
        <div class="marquee-text"></div>
    </div>
</div>

<!-- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤ - –£–ù–Ü–í–ï–†–°–ê–õ–¨–ù–ê –°–ï–ö–¶–Ü–Ø -->
<section class="categories-section-circular" aria-label="–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤">
    <div class="container">
        <div class="section-header text-center mobile-only">
            <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</h2>
        </div>
        
        <div class="section-header text-center desktop-only">
            <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤</h2>
            <p class="section-subtitle">
                –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –∑–∞—Å–æ–±–∏ –¥–ª—è –¥–æ–≥–ª—è–¥—É —Ç–∞ —Å–∞–ª–æ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            </p>
        </div>
        
        <div class="categories-circular">
            {% for category in categories|slice:":10" %}
                {% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %}
                    <a href="{% url 'products:sale' %}" class="category-circle-item">
                {% else %}
                    <a href="{{ category.get_absolute_url }}" class="category-circle-item">
                {% endif %}
                    <div class="category-circle-wrapper">
                        <div class="category-circle-image">
                            {% if category.image %}
                                <img src="{{ category.image.url }}" alt="{{ category.name }}" loading="lazy">
                            {% else %}
                                {% if category.name == '–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏' %}
                                    <img src="{% static 'images/sale_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–ù—ñ–≥—Ç—ñ' %}
                                    <img src="{% static 'images/nails_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–í–æ–ª–æ—Å—Å—è' %}
                                    <img src="{% static 'images/hair_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–ë—Ä–æ–≤–∏ —Ç–∞ –≤—ñ—ó' %}
                                    <img src="{% static 'images/brovy_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–î–µ–ø—ñ–ª—è—Ü—ñ—è' %}
                                    <img src="{% static 'images/depilacia_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–ö–æ—Å–º–µ—Ç–∏–∫–∞' %}
                                    <img src="{% static 'images/cosmetyka_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–ú–∞–∫—ñ—è–∂' %}
                                    <img src="{% static 'images/makeup_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—è' %}
                                    <img src="{% static 'images/odnorazova_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–î–µ–∑—ñ–Ω—Ñ–µ–∫—Ü—ñ—è —Ç–∞ —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—è' %}
                                    <img src="{% static 'images/dezynfectsia_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% elif category.name == '–ú–µ–±–ª—ñ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤' %}
                                    <img src="{% static 'images/mebly_category.jpg' %}" alt="{{ category.name }}" loading="lazy">
                                {% endif %}
                            {% endif %}
                        </div>
                    </div>
                    <h3 class="category-circle-name">{{ category.name }}</h3>
                </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Mobile Promotions Section (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö) -->
<section class="promotions-section mobile-only" aria-label="–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</h2>
            <p class="section-subtitle">–í–∏–≥—ñ–¥–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –∑ –æ–±–º–µ–∂–µ–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó</p>
        </div>
        
        {% if promotion_products %}
        <div class="promotions-slider-container">
            <div class="promotions-slider" id="promotionsSlider">
                {% for product in promotion_products %}
                    {% include 'includes/product_card.html' %}
                {% endfor %}
            </div>
        </div>
        
        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è —Ç–∞ –∫–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ" -->
        <div class="promotions-actions">
            <div class="slider-nav-controls">
                <button class="promo-nav-btn promo-prev-btn" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="promo-nav-btn promo-next-btn" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <a href="{% url 'products:sale' %}" class="promo-view-all">
                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            </a>
        </div>
        {% else %}
            <p class="text-center text-muted">–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –∞–∫—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π</p>
        {% endif %}
    </div>
</section>

<!-- Desktop Promotions Section (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø—ñ) -->
<section class="promotions-section desktop-only" aria-label="–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</h2>
            <p class="section-subtitle">–í–∏–≥—ñ–¥–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –∑ –æ–±–º–µ–∂–µ–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó</p>
        </div>
        
        {% if promotion_products %}
        <div class="promotions-slider-container">
            <button class="promo-nav-btn promo-prev-btn" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            
            <div class="promotions-slider" id="promotionsSliderDesktop">
                {% for product in promotion_products %}
                    {% include 'includes/product_card.html' %}
                {% endfor %}
            </div>
            
            <button class="promo-nav-btn promo-next-btn" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ" -->
        <div class="promotions-actions">
            <a href="{% url 'products:sale' %}" class="promo-view-all">
                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            </a>
        </div>
        {% else %}
            <p class="text-center text-muted">–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –∞–∫—Ü—ñ–π–Ω–∏—Ö –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π</p>
        {% endif %}
    </div>
</section>

<!-- 3. Features Section -->
<section class="features-section section-padding" aria-label="–ù–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏">
    <div class="container">
        <div class="features-grid">
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/delivery.png' %}" alt="–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</h3>
                    <p class="feature-description">–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤–ø—Ä–æ–¥–æ–≤–∂ –¥–Ω—è</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/consult.png' %}" alt="–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥–±—ñ—Ä" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥–±—ñ—Ä</h3>
                    <p class="feature-description">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-image">
                    <img src="{% static 'images/pay.png' %}" alt="–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞" loading="lazy">
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞</h3>
                    <p class="feature-description">–û–Ω–ª–∞–π–Ω –∞–±–æ –Ω–∞–∫–ª–∞–¥–µ–Ω–∏–π –ø–ª–∞—Ç—ñ–∂</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 4. New Products Section (–ù–æ–≤–∏–Ω–∫–∏) -->
<section class="new-products-section section-padding bg-light" aria-label="–ù–æ–≤–∏–Ω–∫–∏">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–ù–æ–≤–∏–Ω–∫–∏</h2>
            <p class="section-subtitle">
                –ù–∞–π—Å–≤—ñ–∂—ñ—à—ñ –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è –∫–æ—Å–º–µ—Ç–∏–∫–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
            </p>
        </div>
        
        <div class="recommended-slider-container">
            <div class="recommended-slider" id="recommendedSlider">
                {% for product in new_products %}
                    {% include 'includes/product_card.html' %}
                {% empty %}
                    <div class="text-center">
                        <p class="text-muted">–ù–æ–≤–∏–Ω–∫–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è...</p>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
        <div class="slider-nav-controls">
            <button class="promo-nav-btn promo-prev-btn slider-prev-new" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <button class="promo-nav-btn promo-next-btn slider-next-new" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
    </div>
</section>

<!-- 5. CTA Banners -->
<section class="cta-banners section-padding" aria-label="–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó">
    <div class="container">
        <div class="banners-grid">
            <div class="cta-banner-image">
                <img src="{% static 'images/baner1_down.png' %}" alt="–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è 1" loading="lazy">
            </div>
            
            <div class="cta-banner-image">
                <img src="{% static 'images/baner2_down.png' %}" alt="–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è 2" loading="lazy">
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/banner-slider.min.js' %}"></script>
<script src="{% static 'js/recommended-slider.js' %}"></script>
<script src="{% static 'js/promotions-slider.js' %}"></script>
{% endblock %}
