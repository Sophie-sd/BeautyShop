{% extends 'base.html' %}
{% load static %}

{% block title %}Beauty Shop - –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ –∫–æ—Å–º–µ—Ç–∏–∫–∞ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏{% endblock %}
{% block description %}–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω Beauty Shop –ø—Ä–æ–ø–æ–Ω—É—î –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—É –∫–æ—Å–º–µ—Ç–∏–∫—É, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏. –Ø–∫—ñ—Å–Ω—ñ —Ç–æ–≤–∞—Ä–∏, —à–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ.{% endblock %}

{% block content %}
<!-- Banner Slider Section -->
<section class="banner-slider-section" aria-label="–†–µ–∫–ª–∞–º–Ω—ñ –±–∞–Ω–µ—Ä–∏">
    <div class="banner-slider-container">
        <div class="banner-slider" id="bannerSlider">
            <div class="banner-slide active">
                <img src="{% static 'images/baner1_beautyshop.jpg' %}" alt="–ê–∫—Ü—ñ–π–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó Beauty Shop" class="banner-image">
            </div>
            <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å–ª–∞–π–¥–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –ø—ñ–∑–Ω—ñ—à–µ -->
        </div>
        
        <!-- Navigation arrows -->
        <button class="banner-nav banner-nav-prev" id="bannerPrev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –±–∞–Ω–µ—Ä">
            <span class="nav-arrow">‚Äπ</span>
        </button>
        <button class="banner-nav banner-nav-next" id="bannerNext" aria-label="–ù–∞—Å—Ç—É–ø–Ω–∏–π –±–∞–Ω–µ—Ä">
            <span class="nav-arrow">‚Ä∫</span>
        </button>
        
        <!-- Dots indicator -->
        <div class="banner-dots" id="bannerDots">
            <button class="banner-dot active" data-slide="0" aria-label="–ë–∞–Ω–µ—Ä 1"></button>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section section-padding" aria-label="–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤</h2>
            <p class="section-subtitle">
                –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –∑–∞—Å–æ–±–∏ –¥–ª—è –¥–æ–≥–ª—è–¥—É —Ç–∞ —Å–∞–ª–æ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            </p>
        </div>
        
        <div class="categories-slider-container">
            <div class="categories-slider">
                {% for category in categories %}
                    <div class="category-card card fade-in">
                        <a href="{{ category.get_absolute_url }}" class="category-link">
                            <div class="category-image">
                                {% if category.image %}
                                    <img src="{{ category.image.url }}" alt="{{ category.name }}" loading="lazy">
                                {% else %}
                                    <div class="category-placeholder">
                                        <i class="icon-category" aria-hidden="true">üíÑ</i>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="category-content">
                                <h3 class="category-name">{{ category.name }}</h3>
                                {% if category.description %}
                                    <p class="category-description">{{ category.description|truncatewords:10 }}</p>
                                {% endif %}
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
            <button class="slider-btn slider-btn-prev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó">‚Äπ</button>
            <button class="slider-btn slider-btn-next" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó">‚Ä∫</button>
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section class="featured-section section-padding bg-light" aria-label="–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
            <p class="section-subtitle">
                –ù–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            </p>
        </div>
        
        <div class="products-slider-container">
            <div class="products-slider">
                {% for product in featured_products %}
                    <div class="product-card card fade-in">
                        <div class="product-image">
                            <a href="{{ product.get_absolute_url }}">
                                {% if product.images.first %}
                                    <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" loading="lazy">
                                {% else %}
                                    <div class="product-placeholder">
                                        <i class="icon-product" aria-hidden="true">üì¶</i>
                                    </div>
                                {% endif %}
                                
                                {% if product.is_sale %}
                                    <span class="product-badge sale-badge">
                                        -{{ product.get_discount_percentage }}%
                                    </span>
                                {% endif %}
                                
                                {% if product.is_featured %}
                                    <span class="product-badge featured-badge">
                                        –¢–û–ü
                                    </span>
                                {% endif %}
                            </a>
                        </div>
                        
                        <div class="product-content">
                            <h3 class="product-name">
                                <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                            </h3>
                            
                            <div class="product-price">
                                {% if product.is_sale and product.sale_price %}
                                    <span class="price-old">{{ product.retail_price }} ‚Ç¥</span>
                                    <span class="price-current">{{ product.sale_price }} ‚Ç¥</span>
                                {% else %}
                                    <span class="price-current">
                                        {% if user.is_authenticated and user.is_wholesale and product.wholesale_price %}
                                            {{ product.wholesale_price }} ‚Ç¥
                                            <small class="price-type">–æ–ø—Ç</small>
                                        {% else %}
                                            {{ product.retail_price }} ‚Ç¥
                                        {% endif %}
                                    </span>
                                {% endif %}
                            </div>
                            
                            <div class="product-actions">
                                <button class="btn btn-primary btn-sm add-to-cart" 
                                        data-product-id="{{ product.id }}"
                                        data-product-name="{{ product.name }}"
                                        {% if not product.is_in_stock %}disabled{% endif %}>
                                    {% if product.is_in_stock %}
                                        –ö—É–ø–∏—Ç–∏
                                    {% else %}
                                        –ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
                                    {% endif %}
                                </button>
                                <button class="btn btn-outline btn-sm wishlist-btn" 
                                        data-product-id="{{ product.id }}"
                                        aria-label="–î–æ–¥–∞—Ç–∏ –≤ —Å–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å">
                                    <i class="icon-heart" aria-hidden="true">‚ô°</i>
                                </button>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <button class="slider-btn slider-btn-prev" aria-label="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ —Ç–æ–≤–∞—Ä–∏">‚Äπ</button>
            <button class="slider-btn slider-btn-next" aria-label="–ù–∞—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏">‚Ä∫</button>
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'core:catalog' %}" class="btn btn-secondary btn-lg">
                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ —Ç–æ–≤–∞—Ä–∏
            </a>
        </div>
    </div>
</section>

<!-- Sale Products Section -->
{% if sale_products %}
<section class="sale-section section-padding" aria-label="–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title text-primary">–ê–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
            <p class="section-subtitle">
                –í—Å—Ç–∏–≥–Ω—ñ—Ç—å –ø—Ä–∏–¥–±–∞—Ç–∏ –∑–∞ –≤–∏–≥—ñ–¥–Ω–∏–º–∏ —Ü—ñ–Ω–∞–º–∏!
            </p>
        </div>
        
        <div class="products-grid mobile-grid">
            {% for product in sale_products %}
                <div class="product-card card fade-in">
                    <div class="product-image">
                        <a href="{{ product.get_absolute_url }}">
                            {% if product.images.first %}
                                <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" loading="lazy">
                            {% else %}
                                <div class="product-placeholder">
                                    <i class="icon-product" aria-hidden="true"></i>
                                </div>
                            {% endif %}
                            
                            <span class="product-badge sale-badge">
                                -{{ product.get_discount_percentage }}%
                            </span>
                        </a>
                    </div>
                    
                    <div class="product-content">
                        <h3 class="product-name">
                            <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                        </h3>
                        
                        <div class="product-price">
                            <span class="price-old">{{ product.retail_price }} ‚Ç¥</span>
                            <span class="price-current">{{ product.sale_price }} ‚Ç¥</span>
                        </div>
                        
                        <div class="product-actions">
                            <button class="btn btn-primary btn-sm add-to-cart" 
                                    data-product-id="{{ product.id }}"
                                    data-product-name="{{ product.name }}"
                                    {% if not product.is_in_stock %}disabled{% endif %}>
                                {% if product.is_in_stock %}
                                    –ö—É–ø–∏—Ç–∏
                                {% else %}
                                    –ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
                                {% endif %}
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'products:sale' %}" class="btn btn-primary btn-lg">
                –í—Å—ñ –∞–∫—Ü—ñ–π–Ω—ñ —Ç–æ–≤–∞—Ä–∏
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Features Section -->
<section class="features-section section-padding bg-light" aria-label="–ù–∞—à—ñ –ø–µ—Ä–µ–≤–∞–≥–∏">
    <div class="container">
        <div class="features-grid">
            <div class="feature-item fade-in">
                <div class="feature-icon">
                    <i class="icon-truck" aria-hidden="true"></i>
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ</h3>
                    <p class="feature-description">–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤–ø—Ä–æ–¥–æ–≤–∂ –¥–Ω—è</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-icon">
                    <i class="icon-support" aria-hidden="true"></i>
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Ç–∞ –ø—ñ–¥–±—ñ—Ä</h3>
                    <p class="feature-description">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å</p>
                </div>
            </div>
            
            <div class="feature-item fade-in">
                <div class="feature-icon">
                    <i class="icon-wallet" aria-hidden="true"></i>
                </div>
                <div class="feature-content">
                    <h3 class="feature-title">–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞</h3>
                    <p class="feature-description">–û–Ω–ª–∞–π–Ω –∞–±–æ –Ω–∞–∫–ª–∞–¥–µ–Ω–∏–π –ø–ª–∞—Ç—ñ–∂</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Banners -->
<section class="cta-banners section-padding" aria-label="–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó">
    <div class="container">
        <div class="banners-grid">
            <div class="cta-banner cta-banner-primary">
                <div class="banner-content">
                    <h3 class="banner-title">–û–ü–¢</h3>
                    <p class="banner-subtitle">–º–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ</p>
                    <a href="{% url 'users:register' %}" class="btn btn-white">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</a>
                </div>
                <div class="banner-decoration">
                    <div class="decoration-stars"></div>
                </div>
            </div>
            
            <div class="cta-banner cta-banner-secondary">
                <div class="banner-content">
                    <h3 class="banner-title">–ö–£–ü–£–ô –ü–†–û–î–£–ö–¶–Ü–Æ</h3>
                    <h4 class="banner-subtitle text-primary">METT EXPERT</h4>
                    <p class="banner-text">–ù–ê –°–£–ú–£ –í–Ü–î 500 –ì–†–ù –¢–ê –û–¢–†–ò–ú–£–ô –¢–û–ü L1+</p>
                    <p class="banner-text">METT EXPERT –£ –ü–û–î–ê–†–£–ù–û–ö</p>
                    <a href="{% url 'products:category' slug='mett-expert' %}" class="btn btn-primary">–û–±—Ä–∞—Ç–∏</a>
                </div>
                <div class="banner-image">
                    <img src="{% static 'images/baner1_beautyshop.jpg' %}" alt="–ü–æ–¥–∞—Ä—É–Ω–æ–∫ Mett Expert" loading="lazy">
                </div>
                <div class="banner-decoration">
                    <div class="decoration-gift"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Reviews Section -->
{% if latest_articles %}
<section class="reviews-section section-padding bg-light" aria-label="–í—ñ–¥–≥—É–∫–∏ –Ω–∞—à–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–í—ñ–¥–≥—É–∫–∏ –Ω–∞—à–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</h2>
        </div>
        
        <div class="reviews-grid">
            <!-- –¢—É—Ç –±—É–¥—É—Ç—å –≤—ñ–¥–≥—É–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ -->
            <div class="review-item fade-in">
                <div class="review-content">
                    <div class="review-rating">
                        <i class="icon-star filled" aria-hidden="true"></i>
                        <i class="icon-star filled" aria-hidden="true"></i>
                        <i class="icon-star filled" aria-hidden="true"></i>
                        <i class="icon-star filled" aria-hidden="true"></i>
                        <i class="icon-star filled" aria-hidden="true"></i>
                    </div>
                    <p class="review-text">
                        "–¢—Ä—É—Å–∏–∫–∏ –∑—ñ —Å–ø–∞–Ω–±–æ–Ω–¥—É, —Ü—ñ–Ω–∞ —ñ —è–∫—ñ—Å—Ç—å —Å—É–ø–µ—Ä. –ü–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∞."
                    </p>
                    <div class="review-author">
                        <span class="author-name">–û–ª—è</span>
                        <span class="review-date">2025-05-10 23:16:30</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Blog Section -->
{% if latest_articles %}
<section class="blog-section section-padding" aria-label="–û—Å—Ç–∞–Ω–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ –±–ª–æ–≥—É">
    <div class="container">
        <div class="section-header text-center">
            <h2 class="section-title">–°—Ç–∞—Ç—Ç—ñ</h2>
            <p class="section-subtitle">
                –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Ä–∞–¥–∏ —Ç–∞ –Ω–æ–≤–∏–Ω–∏ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó –∫—Ä–∞—Å–∏
            </p>
        </div>
        
        <div class="articles-grid mobile-grid">
            {% for article in latest_articles %}
                <article class="article-card card fade-in">
                    <div class="article-image">
                        <a href="{{ article.get_absolute_url }}">
                            {% if article.image %}
                                <img src="{{ article.image.url }}" alt="{{ article.title }}" loading="lazy">
                            {% else %}
                                <div class="article-placeholder">
                                    <i class="icon-article" aria-hidden="true"></i>
                                </div>
                            {% endif %}
                        </a>
                    </div>
                    
                    <div class="article-content">
                        <h3 class="article-title">
                            <a href="{{ article.get_absolute_url }}">{{ article.title }}</a>
                        </h3>
                        
                        {% if article.excerpt %}
                            <p class="article-excerpt">{{ article.excerpt|truncatewords:15 }}</p>
                        {% endif %}
                        
                        <div class="article-meta">
                            <time datetime="{{ article.created_at|date:'c' }}">
                                {{ article.created_at|date:'d.m.Y' }}
                            </time>
                        </div>
                    </div>
                </article>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'blog:list' %}" class="btn btn-secondary">
                –í—Å—ñ —Å—Ç–∞—Ç—Ç—ñ
            </a>
        </div>
    </div>
</section>
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/banner-slider.js' %}"></script>
{% endblock %}
