{% load static %}

<!-- Desktop Marquee - –∑–∞–º—ñ—Å—Ç—å Top Bar -->
<div class="marquee-container desktop-marquee" role="banner" aria-label="–ü—Ä–æ–º–æ-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è">
    <div class="marquee-content">
        <div class="marquee-text">
            –ó–Ω–∏–∂–∫–∏ –¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéØ
            <span class="marquee-separator">‚Ä¢</span>
            –®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ üöö
            <span class="marquee-separator">‚Ä¢</span>
            –ù–æ–≤–∏–Ω–∫–∏ —Ç–∞ —Ö—ñ—Ç–∏ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ —â–æ—Ç–∏–∂–Ω—è ‚ú®
            <span class="marquee-separator">‚Ä¢</span>
            –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω ‚Äî –ª–µ–≥–∫–æ –π —à–≤–∏–¥–∫–æ üîÑ
            <span class="marquee-separator">‚Ä¢</span>
            –ü—Ä–æ–º–æ–∫–æ–¥–∏ —Ç–∞ –±–æ–Ω—É—Å–∏ –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéÅ
            <span class="marquee-separator">‚Ä¢</span>
            –ó–Ω–∏–∂–∫–∏ –¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéØ
            <span class="marquee-separator">‚Ä¢</span>
            –®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ üöö
            <span class="marquee-separator">‚Ä¢</span>
            –ù–æ–≤–∏–Ω–∫–∏ —Ç–∞ —Ö—ñ—Ç–∏ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ —â–æ—Ç–∏–∂–Ω—è ‚ú®
            <span class="marquee-separator">‚Ä¢</span>
            –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω ‚Äî –ª–µ–≥–∫–æ –π —à–≤–∏–¥–∫–æ üîÑ
            <span class="marquee-separator">‚Ä¢</span>
            –ü—Ä–æ–º–æ–∫–æ–¥–∏ —Ç–∞ –±–æ–Ω—É—Å–∏ –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéÅ
            <span class="marquee-separator">‚Ä¢</span>
            –ó–Ω–∏–∂–∫–∏ –¥–ª—è –æ–ø—Ç–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéØ
            <span class="marquee-separator">‚Ä¢</span>
            –®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –£–∫—Ä–∞—ó–Ω—ñ üöö
            <span class="marquee-separator">‚Ä¢</span>
            –ù–æ–≤–∏–Ω–∫–∏ —Ç–∞ —Ö—ñ—Ç–∏ –¥–ª—è —Å–∞–ª–æ–Ω—ñ–≤ —â–æ—Ç–∏–∂–Ω—è ‚ú®
            <span class="marquee-separator">‚Ä¢</span>
            –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω ‚Äî –ª–µ–≥–∫–æ –π —à–≤–∏–¥–∫–æ üîÑ
            <span class="marquee-separator">‚Ä¢</span>
            –ü—Ä–æ–º–æ–∫–æ–¥–∏ —Ç–∞ –±–æ–Ω—É—Å–∏ –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤ üéÅ
        </div>
    </div>
</div>

<!-- Main Header -->
<div class="main-header">
    <div class="container">
        <div class="header-content">
            <!-- Logo -->
            <div class="logo">
                <a href="{% url 'core:home' %}" class="logo-link" aria-label="Beauty Shop - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞">
                    <img src="{% static 'images/logo_beautyshop.png' %}" alt="Beauty Shop" class="logo-img">
                </a>
            </div>
            
            <!-- Search -->
            <div class="search-container">
                <form action="{% url 'core:search' %}" method="get" class="search-form" role="search">
                    <div class="search-input-group">
                        <input 
                            type="search" 
                            name="q" 
                            placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤..." 
                            class="search-input"
                            value="{{ request.GET.q|default:'' }}"
                            aria-label="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤"
                            autocomplete="off"
                        >
                        <button type="submit" class="search-btn" aria-label="–ó–Ω–∞–π—Ç–∏">
                            <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 21L16.514 16.506M19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Cart & Wishlist - Desktop Only -->
            <div class="header-actions desktop-actions">
                <!-- Wishlist -->
                <a href="#" class="wishlist-link" aria-label="–°–ø–∏—Å–æ–∫ –±–∞–∂–∞–Ω—å">
                    <i class="icon-heart" aria-hidden="true"></i>
                    <span class="badge">0</span>
                </a>
                
                <!-- Cart -->
                <a href="{% url 'cart:detail' %}" class="cart-link" aria-label="–ö–æ—à–∏–∫ –ø–æ–∫—É–ø–æ–∫">
                    <span class="cart-icon">üõí</span>
                    {% if cart_total_items %}
                        <span class="badge">{{ cart_total_items }}</span>
                    {% endif %}
                </a>
            </div>

            <!-- Mobile Search - Mobile Only -->
            <div class="header-actions mobile-actions">
                <button type="button" class="mobile-search-btn" aria-label="–ü–æ—à—É–∫" id="mobileSearchToggle">
                    <img src="{% static 'images/lupa.png' %}" alt="–ü–æ—à—É–∫" class="search-icon">
                </button>
            </div>

            <!-- Mobile Search Form (Initially Hidden) -->
            <div class="mobile-search-form-container" id="mobileSearchForm">
                <form action="{% url 'core:search' %}" method="get" class="mobile-search-form" role="search">
                    <div class="mobile-search-input-group">
                        <input 
                            type="search" 
                            name="q" 
                            placeholder="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤..." 
                            class="mobile-search-input"
                            id="mobileSearchInput"
                            aria-label="–ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤"
                            autocomplete="off"
                        >
                        <button type="button" class="mobile-search-close" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –ø–æ—à—É–∫" id="mobileSearchClose">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <button type="submit" class="mobile-search-submit" aria-label="–ó–Ω–∞–π—Ç–∏">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 21L16.514 16.506M19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Navigation -->
<nav class="main-nav desktop-nav" role="navigation" aria-label="–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é">
    <div class="container">
        <ul class="nav-list">
            <li class="nav-item">
                <a href="{% url 'core:home' %}" class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                    –ì–æ–ª–æ–≤–Ω–∞
                </a>
            </li>
            <li class="nav-item dropdown">
                <a href="{% url 'core:catalog' %}" class="nav-link {% if request.resolver_match.url_name == 'catalog' %}active{% endif %}">
                    –ö–∞—Ç–∞–ª–æ–≥
                    <i class="icon-chevron-down" aria-hidden="true"></i>
                </a>
                <div class="dropdown-menu">
                    <div class="dropdown-content">
                        {% for category in main_categories %}
                            <a href="{{ category.get_absolute_url }}" class="dropdown-link">
                                {{ category.name }}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="{% url 'products:sale' %}" class="nav-link {% if request.resolver_match.url_name == 'sale' %}active{% endif %}">
                    –ê–∫—Ü—ñ—ó
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'core:delivery' %}" class="nav-link {% if request.resolver_match.url_name == 'delivery' %}active{% endif %}">
                    –î–æ—Å—Ç–∞–≤–∫–∞ —Ç–∞ –æ–ø–ª–∞—Ç–∞
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'core:returns' %}" class="nav-link {% if request.resolver_match.url_name == 'returns' %}active{% endif %}">
                    –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'blog:list' %}" class="nav-link {% if request.resolver_match.url_name == 'list' %}active{% endif %}">
                    –ë–ª–æ–≥
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'core:about' %}" class="nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}">
                    –ü—Ä–æ –Ω–∞—Å
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'core:contacts' %}" class="nav-link {% if request.resolver_match.url_name == 'contacts' %}active{% endif %}">
                    –ö–æ–Ω—Ç–∞–∫—Ç–∏
                </a>
            </li>
        </ul>
    </div>
</nav>
